<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/robota/_next/static/css/825b8367eaa548fa.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/robota/_next/static/chunks/webpack-f7c690cec3dbc8bc.js"/><script src="/robota/_next/static/chunks/e6a554b1-7e926ff24b9ebb31.js" async=""></script><script src="/robota/_next/static/chunks/337-e4ec3d6b74b79afe.js" async=""></script><script src="/robota/_next/static/chunks/main-app-dffc93bf5727af9e.js" async=""></script><script src="/robota/_next/static/chunks/696-d43650737205c45a.js" async=""></script><script src="/robota/_next/static/chunks/app/docs/layout-1f8ff14ac451f43d.js" async=""></script><script src="/robota/_next/static/chunks/app/page-718fde6e5e1a891e.js" async=""></script><title>model context protocol - Robota</title><meta name="description" content="Robota 문서 및 API 참조"/><script src="/robota/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><main class="container mx-auto px-4 py-8"><header class="bg-white border-b border-gray-200 py-4 sticky top-0 z-10"><div class="container mx-auto px-4 flex justify-between items-center"><a class="text-2xl font-bold text-blue-600" href="/robota/">Robota</a><nav><ul class="flex space-x-6"><li><a class="font-semibold text-blue-600" href="/robota/docs/">문서</a></li><li><a href="https://github.com/jungyoun/robota" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-blue-600">GitHub</a></li></ul></nav></div></header><div class="container mx-auto px-4 py-8 flex"><div class="w-64 pr-8"><nav class="sticky top-8"><ul class="space-y-2"><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/">홈</a></div></li><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/getting-started/">시작하기</a></div></li><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/core-concepts/">핵심 개념</a></div></li><li><div class="flex items-center mb-2"><button class="mr-1 w-5 text-gray-500 hover:text-gray-700" aria-label="펼치기">▶</button><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/api-reference/">API 참조</a></div></li><li><div class="flex items-center mb-2"><button class="mr-1 w-5 text-gray-500 hover:text-gray-700" aria-label="펼치기">▶</button><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/providers/">AI 제공자</a></div></li><li><div class="flex items-center mb-2"><button class="mr-1 w-5 text-gray-500 hover:text-gray-700" aria-label="접기">▼</button><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/protocols/">프로토콜</a></div><ul class="pl-4 mb-2 border-l border-gray-200"><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/protocols/model-context-protocol/">모델 컨텍스트 프로토콜</a></div></li><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/protocols/mcp-provider/">MCP 제공자</a></div></li></ul></li><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/function-calling/">함수 호출</a></div></li><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/system-messages/">시스템 메시지</a></div></li><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/code-improvements/">코드 개선사항</a></div></li><li><div class="flex items-center mb-2"><a class="text-gray-700 hover:text-blue-600" href="/robota/docs/openapi-integration/">OpenAPI 통합</a></div></li></ul></nav></div><div class="flex-1 min-w-0"><div class="markdown-content"><article class="markdown-content"><h1 id="모델-컨텍스트-프로토콜-model-context-protocol"><a href="#모델-컨텍스트-프로토콜-model-context-protocol">모델 컨텍스트 프로토콜 (Model Context Protocol)</a></h1>
<p>모델 컨텍스트 프로토콜(MCP)은 다양한 AI 모델과 일관된 방식으로 통신하기 위한 Robota의 표준화된 방법입니다. 이 프로토콜을 통해 서로 다른 AI 제공업체 간의 호환성을 보장하고, 모델 간 전환을 쉽게 할 수 있습니다.</p>
<h2 id="프로토콜-개요"><a href="#프로토콜-개요">프로토콜 개요</a></h2>
<p>MCP는 다음 요소로 구성됩니다:</p>
<ol>
<li><strong>메시지 형식</strong> - 사용자와 AI 간의 대화를 구조화하는 방법</li>
<li><strong>함수 스키마</strong> - 함수와 도구의 정의를 표현하는 방법</li>
<li><strong>컨텍스트 관리</strong> - 대화 컨텍스트와 상태를 관리하는 방법</li>
<li><strong>응답 형식</strong> - AI의 응답을 구조화하는 방법</li>
</ol>
<h2 id="메시지-형식"><a href="#메시지-형식">메시지 형식</a></h2>
<p>MCP에서 메시지는 다음과 같은 구조를 가집니다:</p>
<pre><code class="language-typescript">interface Message {
  role: &#x27;user&#x27; | &#x27;assistant&#x27; | &#x27;system&#x27; | &#x27;function&#x27;;
  content: string;
  name?: string;  // function 호출인 경우 함수 이름
  functionCall?: {
    name: string;
    arguments: Record&lt;string, any&gt;;
  };
  functionResult?: any;
}
</code></pre>
<p>예시:</p>
<pre><code class="language-typescript">// 사용자 메시지
const userMessage: Message = {
  role: &#x27;user&#x27;,
  content: &#x27;서울의 날씨가 어때?&#x27;
};

// 시스템 메시지
const systemMessage: Message = {
  role: &#x27;system&#x27;,
  content: &#x27;당신은 도움이 되는 AI 비서입니다.&#x27;
};

// 함수 호출을 포함한 어시스턴트 메시지
const assistantMessage: Message = {
  role: &#x27;assistant&#x27;,
  content: &#x27;서울의 날씨를 확인해보겠습니다.&#x27;,
  functionCall: {
    name: &#x27;getWeather&#x27;,
    arguments: { location: &#x27;서울&#x27; }
  }
};

// 함수 결과 메시지
const functionMessage: Message = {
  role: &#x27;function&#x27;,
  name: &#x27;getWeather&#x27;,
  content: JSON.stringify({ temperature: 25, condition: &#x27;맑음&#x27; })
};
</code></pre>
<h2 id="함수-스키마"><a href="#함수-스키마">함수 스키마</a></h2>
<p>MCP는 함수를 JSON 스키마 형식으로 정의합니다:</p>
<pre><code class="language-typescript">interface FunctionSchema {
  name: string;
  description?: string;
  parameters: {
    type: &#x27;object&#x27;;
    properties: Record&lt;string, {
      type: string;
      description?: string;
      enum?: any[];
      default?: any;
      // 추가 JSON 스키마 속성
    }&gt;;
    required?: string[];
  };
}
</code></pre>
<p>예시:</p>
<pre><code class="language-typescript">const weatherFunctionSchema: FunctionSchema = {
  name: &#x27;getWeather&#x27;,
  description: &#x27;특정 위치의 현재 날씨 정보를 가져옵니다&#x27;,
  parameters: {
    type: &#x27;object&#x27;,
    properties: {
      location: {
        type: &#x27;string&#x27;,
        description: &#x27;날씨를 확인할 도시 이름 (예: 서울, 부산)&#x27;
      },
      unit: {
        type: &#x27;string&#x27;,
        description: &#x27;온도 단위&#x27;,
        enum: [&#x27;celsius&#x27;, &#x27;fahrenheit&#x27;],
        default: &#x27;celsius&#x27;
      }
    },
    required: [&#x27;location&#x27;]
  }
};
</code></pre>
<h2 id="컨텍스트-관리"><a href="#컨텍스트-관리">컨텍스트 관리</a></h2>
<p>MCP에서 컨텍스트는 대화의 상태를 나타내며, 다음 요소를 포함합니다:</p>
<pre><code class="language-typescript">interface Context {
  messages: Message[];            // 지금까지의 대화 기록
  functions?: FunctionSchema[];   // 사용 가능한 함수 목록
  systemPrompt?: string;          // 단일 시스템 프롬프트
  systemMessages?: Message[];     // 여러 시스템 메시지
  metadata?: Record&lt;string, any&gt;; // 추가 메타데이터
}
</code></pre>
<h3 id="시스템-메시지-관리"><a href="#시스템-메시지-관리">시스템 메시지 관리</a></h3>
<p>Robota는 단일 시스템 프롬프트와 여러 시스템 메시지를 모두 지원합니다:</p>
<pre><code class="language-typescript">// 단일 시스템 프롬프트 설정
robota.setSystemPrompt(&#x27;당신은 도움이 되는 AI 어시스턴트입니다.&#x27;);

// 여러 시스템 메시지 설정
robota.setSystemMessages([
  { role: &#x27;system&#x27;, content: &#x27;당신은 전문 데이터 분석가입니다.&#x27; },
  { role: &#x27;system&#x27;, content: &#x27;사용자가 데이터 분석 관련 질문을 할 때마다 단계별로 설명해주세요.&#x27; }
]);

// 기존 시스템 메시지에 추가
robota.addSystemMessage(&#x27;항상 정확한 정보를 제공하려고 노력하세요.&#x27;);
</code></pre>
<p>Robota 인스턴스 생성 시 시스템 메시지를 설정할 수도 있습니다:</p>
<pre><code class="language-typescript">// 단일 시스템 프롬프트로 초기화
const robota1 = new Robota({
  provider: provider,
  systemPrompt: &#x27;당신은 도움이 되는 AI 어시스턴트입니다.&#x27;
});

// 여러 시스템 메시지로 초기화
const robota2 = new Robota({
  provider: provider,
  systemMessages: [
    { role: &#x27;system&#x27;, content: &#x27;당신은 전문 데이터 분석가입니다.&#x27; },
    { role: &#x27;system&#x27;, content: &#x27;사용자가 데이터 분석 관련 질문을 할 때마다 단계별로 설명해주세요.&#x27; }
  ]
});
</code></pre>
<h2 id="응답-형식"><a href="#응답-형식">응답 형식</a></h2>
<p>모델의 응답은 다음과 같은 구조로 표준화됩니다:</p>
<pre><code class="language-typescript">interface ModelResponse {
  content?: string;               // 텍스트 응답
  functionCall?: {                // 함수 호출 (있는 경우)
    name: string;
    arguments: Record&lt;string, any&gt;;
  };
  usage?: {                       // 토큰 사용량 정보
    promptTokens: number;
    completionTokens: number;
    totalTokens: number;
  };
  metadata?: Record&lt;string, any&gt;; // 추가 메타데이터
}
</code></pre>
<h2 id="제공업체-간-프로토콜-변환"><a href="#제공업체-간-프로토콜-변환">제공업체 간 프로토콜 변환</a></h2>
<p>Robota는 각 AI 제공업체의 고유한 API 형식과 MCP 간의 변환을 자동으로 처리합니다. 예를 들어, OpenAI와 Anthropic은 서로 다른 메시지 형식을 사용하지만, Robota는 이를 MCP로 표준화합니다.</p>
<pre><code class="language-typescript">// OpenAI 형식에서 MCP로 변환
function openaiToMCP(openaiResponse) {
  return {
    content: openaiResponse.choices[0].message.content,
    functionCall: openaiResponse.choices[0].message.function_call
      ? {
          name: openaiResponse.choices[0].message.function_call.name,
          arguments: JSON.parse(openaiResponse.choices[0].message.function_call.arguments)
        }
      : undefined,
    usage: {
      promptTokens: openaiResponse.usage.prompt_tokens,
      completionTokens: openaiResponse.usage.completion_tokens,
      totalTokens: openaiResponse.usage.total_tokens
    }
  };
}

// MCP에서 Anthropic 형식으로 변환
function mcpToAnthropic(mcpContext) {
  return {
    messages: mcpContext.messages.map(message =&gt; {
      if (message.role === &#x27;user&#x27;) {
        return { role: &#x27;human&#x27;, content: message.content };
      } else if (message.role === &#x27;assistant&#x27;) {
        return { role: &#x27;assistant&#x27;, content: message.content };
      }
      // 기타 변환 로직
    }),
    system: mcpContext.systemPrompt
  };
}
</code></pre>
<h2 id="커스텀-모델-통합하기"><a href="#커스텀-모델-통합하기">커스텀 모델 통합하기</a></h2>
<p>새로운 AI 모델을 Robota에 통합하려면 해당 모델의 API와 MCP 간의 변환 로직을 구현해야 합니다:</p>
<pre><code class="language-typescript">import { BaseProvider, ModelContextProtocol } from &#x27;robota&#x27;;

class CustomModelProvider extends BaseProvider implements ModelContextProtocol {
  // MCP 컨텍스트를 모델 고유 형식으로 변환
  convertContextToModelFormat(context) {
    // 변환 로직 구현
    return customFormat;
  }

  // 모델 응답을 MCP 형식으로 변환
  convertModelResponseToMCP(modelResponse) {
    // 변환 로직 구현
    return mcpResponse;
  }
  
  // 기타 필요한 메서드 구현
}
</code></pre>
<h2 id="mcp의-이점"><a href="#mcp의-이점">MCP의 이점</a></h2>
<ol>
<li><strong>제공업체 독립성</strong> - 애플리케이션 코드를 변경하지 않고 다른 AI 모델로 전환 가능</li>
<li><strong>표준화된 인터페이스</strong> - 일관된 방식으로 모든 AI 모델과 상호작용</li>
<li><strong>확장성</strong> - 새로운 모델과 제공업체를 쉽게 통합</li>
<li><strong>이식성</strong> - 다양한 환경에서 동일한 코드를 재사용</li>
</ol></article></div></div></div></main><script src="/robota/_next/static/chunks/webpack-f7c690cec3dbc8bc.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/robota/_next/static/css/825b8367eaa548fa.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[8993,[],\"\"]\n5:I[8822,[],\"\"]\n7:I[7424,[],\"\"]\n8:I[9373,[\"696\",\"static/chunks/696-d43650737205c45a.js\",\"998\",\"static/chunks/app/docs/layout-1f8ff14ac451f43d.js\"],\"default\"]\n9:I[6519,[\"696\",\"static/chunks/696-d43650737205c45a.js\",\"998\",\"static/chunks/app/docs/layout-1f8ff14ac451f43d.js\"],\"default\"]\na:I[4575,[\"696\",\"static/chunks/696-d43650737205c45a.js\",\"931\",\"static/chunks/app/page-718fde6e5e1a891e.js\"],\"\"]\nc:I[5077,[],\"\"]\n6:[\"slug\",\"protocols/model-context-protocol\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"Q1Sy-3LK8rF5VHoy8DmAO\",\"assetPrefix\":\"/robota\",\"urlParts\":[\"\",\"docs\",\"protocols\",\"model-context-protocol\",\"\"],\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"protocols/model-context-protocol\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"protocols\\\",\\\"model-context-protocol\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"protocols/model-context-protocol\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L3\",\"$L4\",null],null],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"$6\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[null,[[\"$\",\"$L8\",null,{}],[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4 py-8 flex\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown-content\",\"children\":[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]}]}]]}]]],null],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/robota/_next/static/css/825b8367eaa548fa.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"main\",null,{\"className\":\"container mx-auto px-4 py-8\",\"children\":[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"$L8\",null,{}],[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4 py-16 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-5xl font-bold mb-6\",\"children\":\"404\"}],[\"$\",\"p\",null,{\"className\":\"text-xl mb-8\",\"children\":\"페이지를 찾을 수 없습니다.\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors\",\"children\":\"홈으로 돌아가기\"}]]}]],\"notFoundStyles\":[]}]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"article\",null,{\"className\":\"markdown-content\",\"children\":[false,[[\"$\",\"h1\",null,{\"id\":\"모델-컨텍스트-프로토콜-model-context-protocol\",\"children\":[\"$\",\"a\",null,{\"href\":\"#모델-컨텍스트-프로토콜-model-context-protocol\",\"children\":\"모델 컨텍스트 프로토콜 (Model Context Protocol)\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모델 컨텍스트 프로토콜(MCP)은 다양한 AI 모델과 일관된 방식으로 통신하기 위한 Robota의 표준화된 방법입니다. 이 프로토콜을 통해 서로 다른 AI 제공업체 간의 호환성을 보장하고, 모델 간 전환을 쉽게 할 수 있습니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"프로토콜-개요\",\"children\":[\"$\",\"a\",null,{\"href\":\"#프로토콜-개요\",\"children\":\"프로토콜 개요\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"MCP는 다음 요소로 구성됩니다:\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"메시지 형식\"}],\" - 사용자와 AI 간의 대화를 구조화하는 방법\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"함수 스키마\"}],\" - 함수와 도구의 정의를 표현하는 방법\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"컨텍스트 관리\"}],\" - 대화 컨텍스트와 상태를 관리하는 방법\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"응답 형식\"}],\" - AI의 응답을 구조화하는 방법\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"메시지-형식\",\"children\":[\"$\",\"a\",null,{\"href\":\"#메시지-형식\",\"children\":\"메시지 형식\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"MCP에서 메시지는 다음과 같은 구조를 가집니다:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"interface Message {\\n  role: 'user' | 'assistant' | 'system' | 'function';\\n  content: string;\\n  name?: string;  // function 호출인 경우 함수 이름\\n  functionCall?: {\\n    name: string;\\n    arguments: Record\u003cstring, any\u003e;\\n  };\\n  functionResult?: any;\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"예시:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"// 사용자 메시지\\nconst userMessage: Message = {\\n  role: 'user',\\n  content: '서울의 날씨가 어때?'\\n};\\n\\n// 시스템 메시지\\nconst systemMessage: Message = {\\n  role: 'system',\\n  content: '당신은 도움이 되는 AI 비서입니다.'\\n};\\n\\n// 함수 호출을 포함한 어시스턴트 메시지\\nconst assistantMessage: Message = {\\n  role: 'assistant',\\n  content: '서울의 날씨를 확인해보겠습니다.',\\n  functionCall: {\\n    name: 'getWeather',\\n    arguments: { location: '서울' }\\n  }\\n};\\n\\n// 함수 결과 메시지\\nconst functionMessage: Message = {\\n  role: 'function',\\n  name: 'getWeather',\\n  content: JSON.stringify({ temperature: 25, condition: '맑음' })\\n};\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"함수-스키마\",\"children\":[\"$\",\"a\",null,{\"href\":\"#함수-스키마\",\"children\":\"함수 스키마\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"MCP는 함수를 JSON 스키마 형식으로 정의합니다:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"interface FunctionSchema {\\n  name: string;\\n  description?: string;\\n  parameters: {\\n    type: 'object';\\n    properties: Record\u003cstring, {\\n      type: string;\\n      description?: string;\\n      enum?: any[];\\n      default?: any;\\n      // 추가 JSON 스키마 속성\\n    }\u003e;\\n    required?: string[];\\n  };\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"예시:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"const weatherFunctionSchema: FunctionSchema = {\\n  name: 'getWeather',\\n  description: '특정 위치의 현재 날씨 정보를 가져옵니다',\\n  parameters: {\\n    type: 'object',\\n    properties: {\\n      location: {\\n        type: 'string',\\n        description: '날씨를 확인할 도시 이름 (예: 서울, 부산)'\\n      },\\n      unit: {\\n        type: 'string',\\n        description: '온도 단위',\\n        enum: ['celsius', 'fahrenheit'],\\n        default: 'celsius'\\n      }\\n    },\\n    required: ['location']\\n  }\\n};\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"컨텍스트-관리\",\"children\":[\"$\",\"a\",null,{\"href\":\"#컨텍스트-관리\",\"children\":\"컨텍스트 관리\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"MCP에서 컨텍스트는 대화의 상태를 나타내며, 다음 요소를 포함합니다:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"interface Context {\\n  messages: Message[];            // 지금까지의 대화 기록\\n  functions?: FunctionSchema[];   // 사용 가능한 함수 목록\\n  systemPrompt?: string;          // 단일 시스템 프롬프트\\n  systemMessages?: Message[];     // 여러 시스템 메시지\\n  metadata?: Record\u003cstring, any\u003e; // 추가 메타데이터\\n}\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"시스템-메시지-관리\",\"children\":[\"$\",\"a\",null,{\"href\":\"#시스템-메시지-관리\",\"children\":\"시스템 메시지 관리\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Robota는 단일 시스템 프롬프트와 여러 시스템 메시지를 모두 지원합니다:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"// 단일 시스템 프롬프트 설정\\nrobota.setSystemPrompt('당신은 도움이 되는 AI 어시스턴트입니다.');\\n\\n// 여러 시스템 메시지 설정\\nrobota.setSystemMessages([\\n  { role: 'system', content: '당신은 전문 데이터 분석가입니다.' },\\n  { role: 'system', content: '사용자가 데이터 분석 관련 질문을 할 때마다 단계별로 설명해주세요.' }\\n]);\\n\\n// 기존 시스템 메시지에 추가\\nrobota.addSystemMessage('항상 정확한 정보를 제공하려고 노력하세요.');\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Robota 인스턴스 생성 시 시스템 메시지를 설정할 수도 있습니다:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"// 단일 시스템 프롬프트로 초기화\\nconst robota1 = new Robota({\\n  provider: provider,\\n  systemPrompt: '당신은 도움이 되는 AI 어시스턴트입니다.'\\n});\\n\\n// 여러 시스템 메시지로 초기화\\nconst robota2 = new Robota({\\n  provider: provider,\\n  systemMessages: [\\n    { role: 'system', content: '당신은 전문 데이터 분석가입니다.' },\\n    { role: 'system', content: '사용자가 데이터 분석 관련 질문을 할 때마다 단계별로 설명해주세요.' }\\n  ]\\n});\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"응답-형식\",\"children\":[\"$\",\"a\",null,{\"href\":\"#응답-형식\",\"children\":\"응답 형식\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"모델의 응답은 다음과 같은 구조로 표준화됩니다:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"interface ModelResponse {\\n  content?: string;               // 텍스트 응답\\n  functionCall?: {                // 함수 호출 (있는 경우)\\n    name: string;\\n    arguments: Record\u003cstring, any\u003e;\\n  };\\n  usage?: {                       // 토큰 사용량 정보\\n    promptTokens: number;\\n    completionTokens: number;\\n    totalTokens: number;\\n  };\\n  metadata?: Record\u003cstring, any\u003e; // 추가 메타데이터\\n}\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"제공업체-간-프로토콜-변환\",\"children\":[\"$\",\"a\",null,{\"href\":\"#제공업체-간-프로토콜-변환\",\"children\":\"제공업체 간 프로토콜 변환\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Robota는 각 AI 제공업체의 고유한 API 형식과 MCP 간의 변환을 자동으로 처리합니다. 예를 들어, OpenAI와 Anthropic은 서로 다른 메시지 형식을 사용하지만, Robota는 이를 MCP로 표준화합니다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"// OpenAI 형식에서 MCP로 변환\\nfunction openaiToMCP(openaiResponse) {\\n  return {\\n    content: openaiResponse.choices[0].message.content,\\n    functionCall: openaiResponse.choices[0].message.function_call\\n      ? {\\n          name: openaiResponse.choices[0].message.function_call.name,\\n          arguments: JSON.parse(openaiResponse.choices[0].message.function_call.arguments)\\n        }\\n      : undefined,\\n    usage: {\\n      promptTokens: openaiResponse.usage.prompt_tokens,\\n      completionTokens: openaiResponse.usage.completion_tokens,\\n      totalTokens: openaiResponse.usage.total_tokens\\n    }\\n  };\\n}\\n\\n// MCP에서 Anthropic 형식으로 변환\\nfunction mcpToAnthropic(mcpContext) {\\n  return {\\n    messages: mcpContext.messages.map(message =\u003e {\\n      if (message.role === 'user') {\\n        return { role: 'human', content: message.content };\\n      } else if (message.role === 'assistant') {\\n        return { role: 'assistant', content: message.content };\\n      }\\n      // 기타 변환 로직\\n    }),\\n    system: mcpContext.systemPrompt\\n  };\\n}\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"커스텀-모델-통합하기\",\"children\":[\"$\",\"a\",null,{\"href\":\"#커스텀-모델-통합하기\",\"children\":\"커스텀 모델 통합하기\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"새로운 AI 모델을 Robota에 통합하려면 해당 모델의 API와 MCP 간의 변환 로직을 구현해야 합니다:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript\",\"children\":\"import { BaseProvider, ModelContextProtocol } from 'robota';\\n\\nclass CustomModelProvider extends BaseProvider implements ModelContextProtocol {\\n  // MCP 컨텍스트를 모델 고유 형식으로 변환\\n  convertContextToModelFormat(context) {\\n    // 변환 로직 구현\\n    return customFormat;\\n  }\\n\\n  // 모델 응답을 MCP 형식으로 변환\\n  convertModelResponseToMCP(modelResponse) {\\n    // 변환 로직 구현\\n    return mcpResponse;\\n  }\\n  \\n  // 기타 필요한 메서드 구현\\n}\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"mcp의-이점\",\"children\":[\"$\",\"a\",null,{\"href\":\"#mcp의-이점\",\"children\":\"MCP의 이점\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"제공업체 독립성\"}],\" - 애플리케이션 코드를 변경하지 않고 다른 AI 모델로 전환 가능\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"표준화된 인터페이스\"}],\" - 일관된 방식으로 모든 AI 모델과 상호작용\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"확장성\"}],\" - 새로운 모델과 제공업체를 쉽게 통합\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"이식성\"}],\" - 다양한 환경에서 동일한 코드를 재사용\"]}],\"\\n\"]}]]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"model context protocol - Robota\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Robota 문서 및 API 참조\"}]]\n3:null\n"])</script></body></html>