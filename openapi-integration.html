<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Robota API ë¬¸ì„œ</title>
  <meta name="description" content="Robota API ë¬¸ì„œ">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/themes/vue.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¤–</text></svg>">
  <style>
    :root {
      --theme-color: #42b983;
    }
    .markdown-section {
      max-width: 900px;
      padding: 30px;
    }
    .markdown-section code {
      background-color: #f8f8f8;
    }
  </style>
</head>
<body>
  <div class="markdown-section">
    <h1>OpenAPI/Swagger í†µí•©</h1>
<p>RobotaëŠ” OpenAPI(ì´ì „ì˜ Swagger) ìŠ¤í™ì„ ìë™ìœ¼ë¡œ AI ì—ì´ì „íŠ¸ì˜ ë„êµ¬ì™€ í•¨ìˆ˜ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê¸°ì¡´ APIë¥¼ ì‰½ê²Œ AI ì—ì´ì „íŠ¸ì— ì—°ê²°í•˜ê³  í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h2>OpenAPIë€?</h2>
<p>OpenAPIëŠ” RESTful APIë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•œ í‘œì¤€í™”ëœ ìŠ¤í™ìœ¼ë¡œ, APIì˜ ì—”ë“œí¬ì¸íŠ¸, ìš”ì²­ ë§¤ê°œë³€ìˆ˜, ì‘ë‹µ í˜•ì‹ ë“±ì„ JSON ë˜ëŠ” YAML í˜•ì‹ìœ¼ë¡œ ì •ì˜í•©ë‹ˆë‹¤. ì´ ìŠ¤í™ì„ í†µí•´ API ë¬¸ì„œ ìƒì„±, í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ìƒì„±, API í…ŒìŠ¤íŠ¸ ë“±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<h2>Robotaì˜ OpenAPI í†µí•© ê¸°ëŠ¥</h2>
<p>RobotaëŠ” OpenAPI ìŠ¤í™ì„ ë¶„ì„í•˜ì—¬ ê° API ì—”ë“œí¬ì¸íŠ¸ë¥¼ AI ì—ì´ì „íŠ¸ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¡œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ë³€í™˜ëœ í•¨ìˆ˜ë¥¼ í†µí•´ AIëŠ” APIë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ê³  ê²°ê³¼ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h2>OpenAPI ë„êµ¬ ìƒì„±í•˜ê¸°</h2>
<h3>URLì—ì„œ OpenAPI ìŠ¤í™ ë¡œë“œ</h3>
<pre><code class="language-typescript">import { Robota, OpenAIProvider, OpenAPIToolkit } from &#39;robota&#39;;

// OpenAPI ìŠ¤í™ì—ì„œ ë„êµ¬ ìƒì„±
const apiTools = await OpenAPIToolkit.fromURL(&#39;https://api.example.com/openapi.json&#39;);

// Robota ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ë„êµ¬ ë“±ë¡
const robota = new Robota({
  provider: new OpenAIProvider({
    apiKey: process.env.OPENAI_API_KEY,
    model: &#39;gpt-4&#39;
  })
});

robota.registerTools(apiTools);

// ì´ì œ AIëŠ” APIë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
const result = await robota.run(&#39;ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì–´ë–¤ê°€ìš”?&#39;);
</code></pre>
<h3>ë¡œì»¬ íŒŒì¼ì—ì„œ OpenAPI ìŠ¤í™ ë¡œë“œ</h3>
<pre><code class="language-typescript">import { Robota, OpenAIProvider, OpenAPIToolkit } from &#39;robota&#39;;
import fs from &#39;fs&#39;;

// ë¡œì»¬ íŒŒì¼ì—ì„œ OpenAPI ìŠ¤í™ ë¡œë“œ
const specPath = &#39;./api-specs/weather-api.json&#39;;
const apiSpec = JSON.parse(fs.readFileSync(specPath, &#39;utf-8&#39;));

// OpenAPI ìŠ¤í™ì—ì„œ ë„êµ¬ ìƒì„±
const apiTools = await OpenAPIToolkit.fromSpec(apiSpec);

// Robota ì¸ìŠ¤í„´ìŠ¤ì— ë„êµ¬ ë“±ë¡
const robota = new Robota({
  provider: new OpenAIProvider({
    apiKey: process.env.OPENAI_API_KEY,
    model: &#39;gpt-4&#39;
  })
});

robota.registerTools(apiTools);
</code></pre>
<h2>API ì¸ì¦ ì„¤ì •</h2>
<p>ë§ì€ APIëŠ” ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. RobotaëŠ” ë‹¤ì–‘í•œ ì¸ì¦ ë°©ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤:</p>
<pre><code class="language-typescript">import { Robota, OpenAPIToolkit, APIAuthentication } from &#39;robota&#39;;

// API í‚¤ ì¸ì¦
const apiKeyAuth = new APIAuthentication.ApiKey({
  name: &#39;api_key&#39;,
  value: process.env.API_KEY,
  in: &#39;header&#39; // &#39;header&#39;, &#39;query&#39;, &#39;cookie&#39; ì¤‘ í•˜ë‚˜
});

// Bearer í† í° ì¸ì¦
const bearerAuth = new APIAuthentication.Bearer({
  token: process.env.BEARER_TOKEN
});

// ê¸°ë³¸ ì¸ì¦
const basicAuth = new APIAuthentication.Basic({
  username: process.env.API_USERNAME,
  password: process.env.API_PASSWORD
});

// OAuth2 ì¸ì¦
const oauthAuth = new APIAuthentication.OAuth2({
  token: process.env.OAUTH_TOKEN
});

// ì¸ì¦ ì •ë³´ì™€ í•¨ê»˜ ë„êµ¬ ìƒì„±
const apiTools = await OpenAPIToolkit.fromURL(&#39;https://api.example.com/openapi.json&#39;, {
  authentication: apiKeyAuth
});
</code></pre>
<h2>ì„¸ë¶„í™”ëœ API ì•¡ì„¸ìŠ¤ ì œì–´</h2>
<p>íŠ¹ì • API ì—”ë“œí¬ì¸íŠ¸ë§Œ AIì—ê²Œ ë…¸ì¶œí•˜ë„ë¡ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="language-typescript">import { Robota, OpenAPIToolkit } from &#39;robota&#39;;

// íŠ¹ì • ê²½ë¡œë§Œ í¬í•¨
const apiTools = await OpenAPIToolkit.fromURL(&#39;https://api.example.com/openapi.json&#39;, {
  includePaths: [&#39;/weather/*&#39;, &#39;/locations/search&#39;],
  excludePaths: [&#39;/admin/*&#39;, &#39;/users/*&#39;]
});
</code></pre>
<h2>ì—”ë“œí¬ì¸íŠ¸ ì´ë¦„ ë³€ê²½ ë° ì„¤ëª… ì¶”ê°€</h2>
<p>ë” ëª…í™•í•œ ë„êµ¬ ì´ë¦„ê³¼ ì„¤ëª…ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="language-typescript">import { Robota, OpenAPIToolkit } from &#39;robota&#39;;

const apiTools = await OpenAPIToolkit.fromURL(&#39;https://api.example.com/openapi.json&#39;, {
  nameMapping: {
    &#39;/weather/{city}&#39;: &#39;getWeatherByCity&#39;,
    &#39;/locations/search&#39;: &#39;searchLocations&#39;
  },
  descriptionEnhancement: {
    &#39;/weather/{city}&#39;: &#39;ì§€ì •ëœ ë„ì‹œì˜ í˜„ì¬ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. ë„ì‹œ ì´ë¦„ì€ í•œê¸€ ë˜ëŠ” ì˜ì–´ë¡œ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&#39;
  }
});
</code></pre>
<h2>ì‘ë‹µ ë³€í™˜ ë° í›„ì²˜ë¦¬</h2>
<p>API ì‘ë‹µì„ ê°€ê³µí•˜ì—¬ AIì—ê²Œ ë” ìœ ìš©í•œ í˜•íƒœë¡œ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="language-typescript">import { Robota, OpenAPIToolkit } from &#39;robota&#39;;

const apiTools = await OpenAPIToolkit.fromURL(&#39;https://api.example.com/openapi.json&#39;, {
  responseTransformers: {
    &#39;/weather/{city}&#39;: (response) =&gt; {
      // ì‘ë‹µ ë°ì´í„° ë³€í™˜
      return {
        temperature: response.data.temp,
        condition: response.data.weather[0].description,
        location: response.data.name,
        summary: `${response.data.name}ì˜ í˜„ì¬ ë‚ ì”¨ëŠ” ${response.data.weather[0].description}ì´ê³ , ê¸°ì˜¨ì€ ${response.data.temp}Â°Cì…ë‹ˆë‹¤.`
      };
    }
  }
});
</code></pre>
<h2>ì—ëŸ¬ ì²˜ë¦¬</h2>
<p>API í˜¸ì¶œ ì¤‘ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì ì ˆíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="language-typescript">import { Robota, OpenAPIToolkit } from &#39;robota&#39;;

const apiTools = await OpenAPIToolkit.fromURL(&#39;https://api.example.com/openapi.json&#39;, {
  errorHandlers: {
    &#39;/weather/{city}&#39;: (error) =&gt; {
      if (error.response?.status === 404) {
        return { error: &#39;ë„ì‹œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë„ì‹œ ì´ë¦„ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.&#39; };
      }
      if (error.response?.status === 401) {
        return { error: &#39;API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&#39; };
      }
      return { error: &#39;ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.&#39; };
    }
  }
});
</code></pre>
<h2>ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ</h2>
<p>OpenAPIë¡œ ì •ì˜ëœ ë‚ ì”¨ APIë¥¼ í™œìš©í•˜ëŠ” ì—ì´ì „íŠ¸ êµ¬í˜„:</p>
<pre><code class="language-typescript">import { Robota, OpenAIProvider, OpenAPIToolkit } from &#39;robota&#39;;
import dotenv from &#39;dotenv&#39;;
dotenv.config();

async function createWeatherAgent() {
  // ë‚ ì”¨ API ë„êµ¬ ìƒì„±
  const weatherTools = await OpenAPIToolkit.fromURL(&#39;https://api.weatherapi.com/v1/openapi.json&#39;, {
    authentication: new APIAuthentication.ApiKey({
      name: &#39;key&#39;,
      value: process.env.WEATHER_API_KEY,
      in: &#39;query&#39;
    }),
    includePaths: [&#39;/current.json&#39;, &#39;/forecast.json&#39;],
    nameMapping: {
      &#39;/current.json&#39;: &#39;getCurrentWeather&#39;,
      &#39;/forecast.json&#39;: &#39;getWeatherForecast&#39;
    }
  });

  // Robota ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ë„êµ¬ ë“±ë¡
  const robota = new Robota({
    provider: new OpenAIProvider({
      apiKey: process.env.OPENAI_API_KEY,
      model: &#39;gpt-4&#39;
    }),
    systemPrompt: &#39;ë‹¹ì‹ ì€ ë‚ ì”¨ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ë„ìš°ë¯¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìì—ê²Œ ìœ ìš©í•œ ë‚ ì”¨ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.&#39;
  });

  robota.registerTools(weatherTools);
  
  return robota;
}

// ë‚ ì”¨ ì—ì´ì „íŠ¸ ì‚¬ìš©
async function main() {
  const weatherAgent = await createWeatherAgent();
  
  const result = await weatherAgent.run(&#39;ì„œìš¸ì˜ ì˜¤ëŠ˜ ë‚ ì”¨ëŠ” ì–´ë•Œ? ê·¸ë¦¬ê³  ë‚´ì¼ì€ ë¹„ê°€ ì˜¬ ì˜ˆì •ì´ì•¼?&#39;);
  console.log(result);
}

main().catch(console.error);
</code></pre>

  </div>
</body>
</html>