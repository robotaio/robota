<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Robota API 문서</title>
  <meta name="description" content="Robota API 문서">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/themes/vue.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🤖</text></svg>">
  <style>
    :root {
      --theme-color: #42b983;
    }
    .markdown-section {
      max-width: 900px;
      padding: 30px;
    }
    .markdown-section code {
      background-color: #f8f8f8;
    }
  </style>
</head>
<body>
  <div class="markdown-section">
    <h1>제공업체 (Providers)</h1>
<p>Robota는 다양한 AI 제공업체를 지원하여 여러 LLM 서비스를 활용할 수 있게 합니다. 각 제공업체는 특정 API와 통신하고 해당 서비스의 고유한 기능을 활용할 수 있도록 설계되었습니다.</p>
<h2>지원되는 제공업체</h2>
<h3>현재 구현됨</h3>
<h4>OpenAI</h4>
<p>OpenAI의 GPT 모델과 통합하기 위한 제공업체입니다. GPT-3.5, GPT-4 등 다양한 모델을 지원합니다.</p>
<p>자세한 내용은 <a href="./providers/openai.md">OpenAI 제공업체 문서</a>를 참조하세요.</p>
<h4>Anthropic</h4>
<p>Anthropic의 Claude 모델과 통합하기 위한 제공업체입니다. Claude, Claude Instant 등의 모델을 지원합니다.</p>
<p>자세한 내용은 <a href="./providers/anthropic.md">Anthropic 제공업체 문서</a>를 참조하세요.</p>
<h4>MCP (Model Context Protocol)</h4>
<p>Model Context Protocol을 지원하는 모델과 통합하기 위한 제공업체입니다. MCP 클라이언트 주입 방식과 OpenAPI 스키마 방식을 모두 지원합니다.</p>
<p>자세한 내용은 <a href="./providers/mcp.md">MCP 제공업체 문서</a>를 참조하세요.</p>
<h3>향후 구현 예정</h3>
<h4>LangChain</h4>
<p>LangChain 프레임워크와 통합하기 위한 제공업체로, 다양한 LangChain 모델과 체인을 Robota에서 활용할 수 있습니다.</p>
<p>자세한 내용은 <a href="./providers/langchain.md">LangChain 제공업체 문서</a>를 참조하세요.</p>
<h4>Replicate</h4>
<p>Replicate 플랫폼의 다양한 오픈소스 모델을 활용할 수 있는 제공업체입니다.</p>
<p>자세한 내용은 <a href="./providers/replicate.md">Replicate 제공업체 문서</a>를 참조하세요.</p>
<h2>제공업체 사용하기</h2>
<p>각 제공업체는 일관된 인터페이스를 통해 사용됩니다. API 클라이언트를 직접 주입해야 합니다:</p>
<pre><code class="language-typescript">import { Robota, OpenAIProvider } from &#39;robota&#39;;
import OpenAI from &#39;openai&#39;;

// OpenAI 클라이언트 생성
const openaiClient = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
  organization: process.env.OPENAI_ORGANIZATION
});

// OpenAI 제공업체 설정 (클라이언트 인스턴스 주입은 필수)
const provider = new OpenAIProvider({
  model: &#39;gpt-4&#39;,
  temperature: 0.7,
  client: openaiClient
});

// Robota 인스턴스에 제공업체 연결
const robota = new Robota({ provider });

// 실행
const result = await robota.run(&#39;안녕하세요! 오늘 날씨가 어때요?&#39;);
</code></pre>
<h3>클라이언트 인스턴스 주입 (필수)</h3>
<p>Robota는 외부에서 생성된 API 클라이언트를 사용합니다. 이를 통해:</p>
<ol>
<li>애플리케이션 전체에서 일관된 클라이언트 설정 유지</li>
<li>테스트 및 모킹 용이성 향상</li>
<li>클라이언트 설정에 대한 더 세밀한 제어 가능</li>
</ol>
<pre><code class="language-typescript">import { Robota, AnthropicProvider } from &#39;robota&#39;;
import Anthropic from &#39;@anthropic-ai/sdk&#39;;

// Anthropic 클라이언트 생성
const anthropicClient = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY
});

// Anthropic 제공업체 설정 (클라이언트 주입은 필수)
const provider = new AnthropicProvider({
  model: &#39;claude-3-opus&#39;,
  temperature: 0.7,
  client: anthropicClient
});

// Robota 인스턴스에 제공업체 연결
const robota = new Robota({ provider });
</code></pre>
<h3>MCP 클라이언트 사용하기</h3>
<p>Model Context Protocol을 지원하는 모델을 사용하려면:</p>
<pre><code class="language-typescript">import { Robota, MCPProvider } from &#39;robota&#39;;
import { Client, StdioClientTransport } from &#39;@modelcontextprotocol/sdk&#39;;

// MCP 클라이언트 생성
const transport = new StdioClientTransport(/* 설정 */);
const mcpClient = new Client(transport);

// MCP 제공업체 초기화
const provider = new MCPProvider({
  type: &#39;client&#39;, // 클라이언트 방식
  client: mcpClient,
  model: &#39;model-name&#39;
});

// Robota 인스턴스에 제공업체 연결
const robota = new Robota({ provider });

// 실행
const result = await robota.run(&#39;안녕하세요!&#39;);
</code></pre>
<h2>여러 제공업체 사용하기</h2>
<p>여러 제공업체를 동시에 사용하여 다양한 AI 모델의 장점을 활용할 수 있습니다:</p>
<pre><code class="language-typescript">import { Robota, OpenAIProvider, AnthropicProvider, ProviderRouter } from &#39;robota&#39;;
import OpenAI from &#39;openai&#39;;
import Anthropic from &#39;@anthropic-ai/sdk&#39;;

// 클라이언트 생성
const openaiClient = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});

const anthropicClient = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY
});

// 여러 제공업체 설정
const openaiProvider = new OpenAIProvider({
  model: &#39;gpt-4&#39;,
  client: openaiClient
});

const anthropicProvider = new AnthropicProvider({
  model: &#39;claude-3-opus&#39;,
  client: anthropicClient
});

// 라우터를 통해 여러 제공업체 사용
const router = new ProviderRouter({
  defaultProvider: openaiProvider,
  providers: {
    openai: openaiProvider,
    anthropic: anthropicProvider
  },
  routingStrategy: (message, context) =&gt; {
    // 메시지 내용에 따라 적절한 제공업체 선택
    if (message.includes(&#39;창의적&#39;) || message.includes(&#39;creative&#39;)) {
      return &#39;anthropic&#39;;
    }
    return &#39;openai&#39;; // 기본값
  }
});

// 라우터를 제공업체로 사용
const robota = new Robota({ provider: router });

// 각 질문은 적절한 제공업체로 라우팅됨
const creativeResult = await robota.run(&#39;창의적인 시를 써줘&#39;);  // Anthropic으로 라우팅
const factualResult = await robota.run(&#39;파이의 값은 얼마인가요?&#39;);  // OpenAI로 라우팅
</code></pre>
<h2>제공업체 구성 옵션</h2>
<p>각 제공업체는 서비스별 고유 구성 옵션을 지원합니다. 공통적으로 지원되는 기본 옵션은 다음과 같습니다:</p>
<pre><code class="language-typescript">interface ProviderOptions {
  model: string;       // 사용할 모델 이름
  temperature?: number; // 응답의 무작위성/창의성 (0~1)
  maxTokens?: number;   // 최대 생성 토큰 수
  stopSequences?: string[]; // 생성 중지 시퀀스
  streamMode?: boolean; // 스트리밍 모드 활성화 여부
  functionCallMode?: &#39;auto&#39; | &#39;disabled&#39; | &#39;force&#39;; // 함수 호출 모드
  forcedFunction?: string; // 강제 실행할 함수 이름 (functionCallMode가 &#39;force&#39;인 경우)
  forcedArguments?: Record&lt;string, any&gt;; // 강제 함수 인자 (functionCallMode가 &#39;force&#39;인 경우)
}
</code></pre>
<h2>커스텀 제공업체 만들기</h2>
<p>자체 AI 서비스나 지원되지 않는 서비스를 통합하려면 커스텀 제공업체를 만들 수 있습니다.</p>
<p>기본 제공업체 인터페이스를 구현하여 시작할 수 있습니다:</p>
<pre><code class="language-typescript">import { BaseProvider, ProviderResponse, ProviderOptions } from &#39;robota&#39;;

class CustomProvider extends BaseProvider {
  private client: any;
  
  constructor(options) {
    super(options);
    
    if (!options.client) {
      throw new Error(&#39;클라이언트 인스턴스가 필요합니다.&#39;);
    }
    
    this.client = options.client;
  }

  async generateCompletion(prompt, options) {
    // API 호출 구현
    const response = await this.client.callAPI(prompt, options);
    
    return {
      content: response.text,
      usage: {
        promptTokens: response.promptTokens,
        completionTokens: response.completionTokens,
        totalTokens: response.totalTokens
      }
    };
  }

  async generateCompletionStream(prompt, options) {
    // 스트리밍 API 호출 구현
    const stream = this.client.callAPIStream(prompt, options);
    return stream;
  }
}
</code></pre>
<p>자세한 커스텀 제공업체 구현 방법은 <a href="./providers/custom.md">커스텀 제공업체 문서</a>를 참조하세요. </p>

  </div>
</body>
</html>