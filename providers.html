<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Robota API λ¬Έμ„</title>
  <meta name="description" content="Robota API λ¬Έμ„">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/themes/vue.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>π¤–</text></svg>">
  <style>
    :root {
      --theme-color: #42b983;
    }
    .markdown-section {
      max-width: 900px;
      padding: 30px;
    }
    .markdown-section code {
      background-color: #f8f8f8;
    }
  </style>
</head>
<body>
  <div class="markdown-section">
    <h1>μ κ³µμ—…μ²΄ (Providers)</h1>
<p>Robotaλ” λ‹¤μ–‘ν• AI μ κ³µμ—…μ²΄λ¥Ό μ§€μ›ν•μ—¬ μ—¬λ¬ LLM μ„λΉ„μ¤λ¥Ό ν™μ©ν•  μ μκ² ν•©λ‹λ‹¤. κ° μ κ³µμ—…μ²΄λ” νΉμ • APIμ™€ ν†µμ‹ ν•κ³  ν•΄λ‹Ή μ„λΉ„μ¤μ κ³ μ ν• κΈ°λ¥μ„ ν™μ©ν•  μ μλ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.</p>
<h2>μ§€μ›λλ” μ κ³µμ—…μ²΄</h2>
<h3>ν„μ¬ κµ¬ν„λ¨</h3>
<h4>OpenAI</h4>
<p>OpenAIμ GPT λ¨λΈκ³Ό ν†µν•©ν•κΈ° μ„ν• μ κ³µμ—…μ²΄μ…λ‹λ‹¤. GPT-3.5, GPT-4 λ“± λ‹¤μ–‘ν• λ¨λΈμ„ μ§€μ›ν•©λ‹λ‹¤.</p>
<p>μμ„Έν• λ‚΄μ©μ€ <a href="./providers/openai.md">OpenAI μ κ³µμ—…μ²΄ λ¬Έμ„</a>λ¥Ό μ°Έμ΅°ν•μ„Έμ”.</p>
<h4>Anthropic</h4>
<p>Anthropicμ Claude λ¨λΈκ³Ό ν†µν•©ν•κΈ° μ„ν• μ κ³µμ—…μ²΄μ…λ‹λ‹¤. Claude, Claude Instant λ“±μ λ¨λΈμ„ μ§€μ›ν•©λ‹λ‹¤.</p>
<p>μμ„Έν• λ‚΄μ©μ€ <a href="./providers/anthropic.md">Anthropic μ κ³µμ—…μ²΄ λ¬Έμ„</a>λ¥Ό μ°Έμ΅°ν•μ„Έμ”.</p>
<h4>MCP (Model Context Protocol)</h4>
<p>Model Context Protocolμ„ μ§€μ›ν•λ” λ¨λΈκ³Ό ν†µν•©ν•κΈ° μ„ν• μ κ³µμ—…μ²΄μ…λ‹λ‹¤. MCP ν΄λΌμ΄μ–ΈνΈ μ£Όμ… λ°©μ‹κ³Ό OpenAPI μ¤ν‚¤λ§ λ°©μ‹μ„ λ¨λ‘ μ§€μ›ν•©λ‹λ‹¤.</p>
<p>μμ„Έν• λ‚΄μ©μ€ <a href="./providers/mcp.md">MCP μ κ³µμ—…μ²΄ λ¬Έμ„</a>λ¥Ό μ°Έμ΅°ν•μ„Έμ”.</p>
<h3>ν–¥ν›„ κµ¬ν„ μμ •</h3>
<h4>LangChain</h4>
<p>LangChain ν”„λ μ„μ›ν¬μ™€ ν†µν•©ν•κΈ° μ„ν• μ κ³µμ—…μ²΄λ΅, λ‹¤μ–‘ν• LangChain λ¨λΈκ³Ό μ²΄μΈμ„ Robotaμ—μ„ ν™μ©ν•  μ μμµλ‹λ‹¤.</p>
<p>μμ„Έν• λ‚΄μ©μ€ <a href="./providers/langchain.md">LangChain μ κ³µμ—…μ²΄ λ¬Έμ„</a>λ¥Ό μ°Έμ΅°ν•μ„Έμ”.</p>
<h4>Replicate</h4>
<p>Replicate ν”λ«νΌμ λ‹¤μ–‘ν• μ¤ν”μ†μ¤ λ¨λΈμ„ ν™μ©ν•  μ μλ” μ κ³µμ—…μ²΄μ…λ‹λ‹¤.</p>
<p>μμ„Έν• λ‚΄μ©μ€ <a href="./providers/replicate.md">Replicate μ κ³µμ—…μ²΄ λ¬Έμ„</a>λ¥Ό μ°Έμ΅°ν•μ„Έμ”.</p>
<h2>μ κ³µμ—…μ²΄ μ‚¬μ©ν•κΈ°</h2>
<p>κ° μ κ³µμ—…μ²΄λ” μΌκ΄€λ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μ‚¬μ©λ©λ‹λ‹¤. API ν΄λΌμ΄μ–ΈνΈλ¥Ό μ§μ ‘ μ£Όμ…ν•΄μ•Ό ν•©λ‹λ‹¤:</p>
<pre><code class="language-typescript">import { Robota, OpenAIProvider } from &#39;robota&#39;;
import OpenAI from &#39;openai&#39;;

// OpenAI ν΄λΌμ΄μ–ΈνΈ μƒμ„±
const openaiClient = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
  organization: process.env.OPENAI_ORGANIZATION
});

// OpenAI μ κ³µμ—…μ²΄ μ„¤μ • (ν΄λΌμ΄μ–ΈνΈ μΈμ¤ν„΄μ¤ μ£Όμ…μ€ ν•„μ)
const provider = new OpenAIProvider({
  model: &#39;gpt-4&#39;,
  temperature: 0.7,
  client: openaiClient
});

// Robota μΈμ¤ν„΄μ¤μ— μ κ³µμ—…μ²΄ μ—°κ²°
const robota = new Robota({ provider });

// μ‹¤ν–‰
const result = await robota.run(&#39;μ•λ…•ν•μ„Έμ”! μ¤λ λ‚ μ”¨κ°€ μ–΄λ•μ”?&#39;);
</code></pre>
<h3>ν΄λΌμ΄μ–ΈνΈ μΈμ¤ν„΄μ¤ μ£Όμ… (ν•„μ)</h3>
<p>Robotaλ” μ™Έλ¶€μ—μ„ μƒμ„±λ API ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄:</p>
<ol>
<li>μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄μ—μ„ μΌκ΄€λ ν΄λΌμ΄μ–ΈνΈ μ„¤μ • μ μ§€</li>
<li>ν…μ¤νΈ λ° λ¨ν‚Ή μ©μ΄μ„± ν–¥μƒ</li>
<li>ν΄λΌμ΄μ–ΈνΈ μ„¤μ •μ— λ€ν• λ” μ„Έλ°€ν• μ μ–΄ κ°€λ¥</li>
</ol>
<pre><code class="language-typescript">import { Robota, AnthropicProvider } from &#39;robota&#39;;
import Anthropic from &#39;@anthropic-ai/sdk&#39;;

// Anthropic ν΄λΌμ΄μ–ΈνΈ μƒμ„±
const anthropicClient = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY
});

// Anthropic μ κ³µμ—…μ²΄ μ„¤μ • (ν΄λΌμ΄μ–ΈνΈ μ£Όμ…μ€ ν•„μ)
const provider = new AnthropicProvider({
  model: &#39;claude-3-opus&#39;,
  temperature: 0.7,
  client: anthropicClient
});

// Robota μΈμ¤ν„΄μ¤μ— μ κ³µμ—…μ²΄ μ—°κ²°
const robota = new Robota({ provider });
</code></pre>
<h3>MCP ν΄λΌμ΄μ–ΈνΈ μ‚¬μ©ν•κΈ°</h3>
<p>Model Context Protocolμ„ μ§€μ›ν•λ” λ¨λΈμ„ μ‚¬μ©ν•λ ¤λ©΄:</p>
<pre><code class="language-typescript">import { Robota, MCPProvider } from &#39;robota&#39;;
import { Client, StdioClientTransport } from &#39;@modelcontextprotocol/sdk&#39;;

// MCP ν΄λΌμ΄μ–ΈνΈ μƒμ„±
const transport = new StdioClientTransport(/* μ„¤μ • */);
const mcpClient = new Client(transport);

// MCP μ κ³µμ—…μ²΄ μ΄κΈ°ν™”
const provider = new MCPProvider({
  type: &#39;client&#39;, // ν΄λΌμ΄μ–ΈνΈ λ°©μ‹
  client: mcpClient,
  model: &#39;model-name&#39;
});

// Robota μΈμ¤ν„΄μ¤μ— μ κ³µμ—…μ²΄ μ—°κ²°
const robota = new Robota({ provider });

// μ‹¤ν–‰
const result = await robota.run(&#39;μ•λ…•ν•μ„Έμ”!&#39;);
</code></pre>
<h2>μ—¬λ¬ μ κ³µμ—…μ²΄ μ‚¬μ©ν•κΈ°</h2>
<p>μ—¬λ¬ μ κ³µμ—…μ²΄λ¥Ό λ™μ‹μ— μ‚¬μ©ν•μ—¬ λ‹¤μ–‘ν• AI λ¨λΈμ μ¥μ μ„ ν™μ©ν•  μ μμµλ‹λ‹¤:</p>
<pre><code class="language-typescript">import { Robota, OpenAIProvider, AnthropicProvider, ProviderRouter } from &#39;robota&#39;;
import OpenAI from &#39;openai&#39;;
import Anthropic from &#39;@anthropic-ai/sdk&#39;;

// ν΄λΌμ΄μ–ΈνΈ μƒμ„±
const openaiClient = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY
});

const anthropicClient = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY
});

// μ—¬λ¬ μ κ³µμ—…μ²΄ μ„¤μ •
const openaiProvider = new OpenAIProvider({
  model: &#39;gpt-4&#39;,
  client: openaiClient
});

const anthropicProvider = new AnthropicProvider({
  model: &#39;claude-3-opus&#39;,
  client: anthropicClient
});

// λΌμ°ν„°λ¥Ό ν†µν•΄ μ—¬λ¬ μ κ³µμ—…μ²΄ μ‚¬μ©
const router = new ProviderRouter({
  defaultProvider: openaiProvider,
  providers: {
    openai: openaiProvider,
    anthropic: anthropicProvider
  },
  routingStrategy: (message, context) =&gt; {
    // λ©”μ‹μ§€ λ‚΄μ©μ— λ”°λΌ μ μ ν• μ κ³µμ—…μ²΄ μ„ νƒ
    if (message.includes(&#39;μ°½μμ &#39;) || message.includes(&#39;creative&#39;)) {
      return &#39;anthropic&#39;;
    }
    return &#39;openai&#39;; // κΈ°λ³Έκ°’
  }
});

// λΌμ°ν„°λ¥Ό μ κ³µμ—…μ²΄λ΅ μ‚¬μ©
const robota = new Robota({ provider: router });

// κ° μ§λ¬Έμ€ μ μ ν• μ κ³µμ—…μ²΄λ΅ λΌμ°ν…λ¨
const creativeResult = await robota.run(&#39;μ°½μμ μΈ μ‹λ¥Ό μ¨μ¤&#39;);  // AnthropicμΌλ΅ λΌμ°ν…
const factualResult = await robota.run(&#39;νμ΄μ κ°’μ€ μ–Όλ§μΈκ°€μ”?&#39;);  // OpenAIλ΅ λΌμ°ν…
</code></pre>
<h2>μ κ³µμ—…μ²΄ κµ¬μ„± μµμ…</h2>
<p>κ° μ κ³µμ—…μ²΄λ” μ„λΉ„μ¤λ³„ κ³ μ  κµ¬μ„± μµμ…μ„ μ§€μ›ν•©λ‹λ‹¤. κ³µν†µμ μΌλ΅ μ§€μ›λλ” κΈ°λ³Έ μµμ…μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:</p>
<pre><code class="language-typescript">interface ProviderOptions {
  model: string;       // μ‚¬μ©ν•  λ¨λΈ μ΄λ¦„
  temperature?: number; // μ‘λ‹µμ λ¬΄μ‘μ„μ„±/μ°½μμ„± (0~1)
  maxTokens?: number;   // μµλ€ μƒμ„± ν† ν° μ
  stopSequences?: string[]; // μƒμ„± μ¤‘μ§€ μ‹ν€€μ¤
  streamMode?: boolean; // μ¤νΈλ¦¬λ° λ¨λ“ ν™μ„±ν™” μ—¬λ¶€
  functionCallMode?: &#39;auto&#39; | &#39;disabled&#39; | &#39;force&#39;; // ν•¨μ νΈμ¶ λ¨λ“
  forcedFunction?: string; // κ°•μ  μ‹¤ν–‰ν•  ν•¨μ μ΄λ¦„ (functionCallModeκ°€ &#39;force&#39;μΈ κ²½μ°)
  forcedArguments?: Record&lt;string, any&gt;; // κ°•μ  ν•¨μ μΈμ (functionCallModeκ°€ &#39;force&#39;μΈ κ²½μ°)
}
</code></pre>
<h2>μ»¤μ¤ν…€ μ κ³µμ—…μ²΄ λ§λ“¤κΈ°</h2>
<p>μμ²΄ AI μ„λΉ„μ¤λ‚ μ§€μ›λμ§€ μ•λ” μ„λΉ„μ¤λ¥Ό ν†µν•©ν•λ ¤λ©΄ μ»¤μ¤ν…€ μ κ³µμ—…μ²΄λ¥Ό λ§λ“¤ μ μμµλ‹λ‹¤.</p>
<p>κΈ°λ³Έ μ κ³µμ—…μ²΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ—¬ μ‹μ‘ν•  μ μμµλ‹λ‹¤:</p>
<pre><code class="language-typescript">import { BaseProvider, ProviderResponse, ProviderOptions } from &#39;robota&#39;;

class CustomProvider extends BaseProvider {
  private client: any;
  
  constructor(options) {
    super(options);
    
    if (!options.client) {
      throw new Error(&#39;ν΄λΌμ΄μ–ΈνΈ μΈμ¤ν„΄μ¤κ°€ ν•„μ”ν•©λ‹λ‹¤.&#39;);
    }
    
    this.client = options.client;
  }

  async generateCompletion(prompt, options) {
    // API νΈμ¶ κµ¬ν„
    const response = await this.client.callAPI(prompt, options);
    
    return {
      content: response.text,
      usage: {
        promptTokens: response.promptTokens,
        completionTokens: response.completionTokens,
        totalTokens: response.totalTokens
      }
    };
  }

  async generateCompletionStream(prompt, options) {
    // μ¤νΈλ¦¬λ° API νΈμ¶ κµ¬ν„
    const stream = this.client.callAPIStream(prompt, options);
    return stream;
  }
}
</code></pre>
<p>μμ„Έν• μ»¤μ¤ν…€ μ κ³µμ—…μ²΄ κµ¬ν„ λ°©λ²•μ€ <a href="./providers/custom.md">μ»¤μ¤ν…€ μ κ³µμ—…μ²΄ λ¬Έμ„</a>λ¥Ό μ°Έμ΅°ν•μ„Έμ”. </p>

  </div>
</body>
</html>